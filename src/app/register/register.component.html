<div class="cuerpo">
  <div class="logo">
    <img src="assets/icon.png" alt="logo" class="icon"><!--Logotipo de la empresa-->
    <h2>Bienvenido a Amazon't</h2>
  </div>
<div class="container">
  <h3>REGISTRATE</h3>

  <form [formGroup]="registro">
    <input type="text" placeholder="Nombre" id="nombre" formControlName="nombre">
    @if (nombre.hasError('required') && nombre.touched) {
      <p>El NOMBRE es obligatorio</p>
    } @else if (nombre.hasError('maxlength') && nombre.touched) {
      <p>El NOMBRE es muy largo</p>
    }
    <br>
    <br>
    <input type="text" placeholder="Correo Electronico" id="correo" formControlName="correo">
    @if (correo.hasError('required') && correo.touched) {
      <p>El CORREO es obligatorio</p>
    } @else if (correo.hasError('correoExiste') && correo.touched) {
      <p>El CORREO ya esta registrado</p>
    } @else if (correo.hasError('email') && correo.touched) {
      <p>El CORREO no es valido</p>
    } @else if (correo.valid && correo.touched) {
      <p class="valido">El CORREO está disponible</p>
    }
    <br>
    <br>
    <input type="text" placeholder="Contraseña" id="contrasena" formControlName="contrasena" (keyup)="coincideContrasena()">
    @if (contrasena.hasError('required') && contrasena.touched) {
      <p>La CONTRASEÑA es obligatorio</p>
    } @else if (contrasena.hasError('contrasenaFuerte') && contrasena.touched) {
        <p>La CONTRASEÑA no es fuerte</p>
    } @else if (contrasena.hasError('maxlength') && contrasena.touched || contrasena.hasError('minlength') && contrasena.touched) {
        <p>La CONTRASEÑA no es valida</p>
    } @else if (contrasena.valid && contrasena.touched) {
        <p class="valido">La CONTRASEÑA es fuerte</p>
    }
    <br>
    <br>
    <input type="text" placeholder="Repetir Contraseña" id="repetirContrasena" formControlName="repetirContrasena" (keyup)="coincideContrasena()">
    @if (repetirContrasena.hasError('required') && repetirContrasena.touched) {
      <p>La CONTRASEÑA es obligatorio</p>
    } @else if (repetirContrasena.hasError('contrasenaFuerte') && repetirContrasena.touched) {
      <p>La CONTRASEÑA no es fuerte</p>
    } @else if (repetirContrasena.hasError('maxlength') && repetirContrasena.touched || repetirContrasena.hasError('minlength') && repetirContrasena.touched) {
        <p>La CONTRASEÑA no es valida</p>
    } @else if (repetirContrasena.valid && repetirContrasena.touched) {
        <p class="valido">La CONTRASEÑA es fuerte</p>
    }
    <br>
    <br>
    <select id="roles" formControlName="rol">
      <option value="" disabled selected>--Elije un rol--</option>
      <option value="Cliente">Cliente</option>
      <option value="Vendedor">Vendedor</option>
    </select>
    @if (rol.hasError('required') && rol.touched) {
      <p>Porfavor, elija un rol</p>
    }
    <br>
    @if (contrasena.valid && contrasena.touched) {
      @if (repetirContrasena.valid && repetirContrasena.touched) {
        @if (coincidenContrasenas) {
          <p class="valido">Las CONTRASEÑAS coinciden</p>
        } @else {
          <p>Las CONTRASEÑAS NO coinciden</p>
        }
      }
    }
    <br>
    @if (mensajeEstado) {
      <p>{{ mensajeEstado }}</p>
    }
    <br>
    <button [disabled]="registro.invalid" (click)="registerUser()">Registrarme</button>
  </form>

  <a routerLink="/login">Ya Tengo Una Cuenta</a>
</div>
</div>
